{% extends "template.html" %}


{% block app_content %}

<div class="container">
    <div class="form" class="col-sm-12">
        <h3>{{assignment.title }} </h3>
        <br>
        <div class="col-lg-4">
            <h4>Edit Assignment</h4>
	    <form action="{{ url_for('saveEditAssignment', title=assignment.title, description = assignment.description, due=assignment.due, points=assignment.points, assignment_id=assignment.assignment_id) }}" method="post" novalidate>
	    	{{ editAssignmentForm.hidden_tag() }}
	        <p>
	            {{ editAssignmentForm.title.label }}<br>
	            {{ editAssignmentForm.title(placeholder=assignment.title, size=32) }}
	        </p>
	        <p>
	            {{ editAssignmentForm.due.label }}<br>
	            {{ editAssignmentForm.due(placeholder=assignment.due, size=32) }}
	        </p>
	        <p>
	            {{ editAssignmentForm.points.label }}<br>
	            {{ editAssignmentForm.points(placeholder=assignment.points, size=32) }}
	        </p>
          <p>
	            {{ editAssignmentForm.description.label }}<br>
	            {{ editAssignmentForm.description(placeholder=assignment.description, size=32) }}
	        </p>
	        <p>
	            {{ editAssignmentForm.course.label }}<br>
	            {{ editAssignmentForm.course() }}
	        </p>
	        {{ editAssignmentForm.submit2(value="Update Assignment") }}
	    </form>

	    <form action="{{ url_for('deleteAssignment', assignment_id=assignment.assignment_id) }}" method="post" novalidate>
	        <input type="submit" value="Delete Assignment" style="margin-top:2%">
	    </form>
        </div>
        <div class="col-lg-2 detail">
        </div>
        <div class="col-lg-4 detail">
            <h4> Assignment Submissions </h4>
            {% if assignment.submissions %}
                <table class="table table-striped table-sm">
                    <thead>
                          <th> Student Name </th><th> Grade </th> <th> Timestamp </th>
                    </thead>

                    <tbody>
                        {% for submission in assignment.submissions %}
                            <tr>
                                <td><a href="{{ url_for('editStudent', student_id=submission.student_id) }}" > {{ submission.studentname }}</a></td>
                                <td>{{ submission.grade }}</td>
                                <td>{{ submission.timestamp }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p> No submissions yet. </p>
            {% endif %}
		</div>
    </div>
</div>

{% endblock %}