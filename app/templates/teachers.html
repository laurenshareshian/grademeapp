{% extends "template.html" %}
{% block app_content %}
    <script>function filterFunction() { // Declare a function
  var dept = document.getElementById("department").value;
    {window.location = "/"+dept}
};
</script>
<div class="container">
    <div class="bottomcontainer">
        {% if teachers %}
            <form action="" method="post">
                <p>Click on a teacher name to edit or delete them or to view their courses. In the future, we could
                    implement a login feature here instead.</p>
                Filter by department:
                <select id="department" class="department" onchange="filterFunction()">
                  <option value=" " selected></option>
                    <option value="All">All</option>
                  {% for department in departments %}
                    <option value="{{department}}">{{department}}</option>
                  {% endfor %}
                </select>
            </form>
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>Teachers</th> <th> Dept </th>
                </tr>
            </thead>
            <tbody id="tablebody">
                {% for teacher in teachers %}
                <tr>
                    <td> 
                        <a href="{{ url_for('editTeacher', teacher_id=teacher.teacher_id) }}" >
                            {{teacher.first_name}} {{teacher.last_name}}
                        </a>
                    </td>
                    <td>
                        {{ teacher.dept }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% endif %}
        {% if noresults %}
        No results.
        {% endif%}
        <a style="font-weight:bold;" href="{{ url_for('addTeacher') }}">Add a teacher</a>
    </div>
</div>
{% endblock %}